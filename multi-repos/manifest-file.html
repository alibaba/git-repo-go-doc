<!DOCTYPE html>
<html lang="zh-cn">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Manifest 文件 - git-repo</title>
<meta name="description" content="client tool for git centralized workflow (Aone or gerrit)">
<meta name="generator" content="Hugo 0.55.6" />
<link href="http://git-repo.infoindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="http://git-repo.info/multi-repos/manifest-file.html">
<link rel="stylesheet" href="http://git-repo.info/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="http://git-repo.info/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="http://git-repo.info/js/bundle.js"></script><style>
:root {}
</style>
<meta property="og:title" content="Manifest 文件" />
<meta property="og:description" content="Manifest 清单仓库和 Manifest 清单文件 定义多仓库关联的清单文件（manifest 文件）保存于一个仓库中，这个仓库称为 manifest 仓库。仓库中默认的 manifest 清单文件名为 def" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://git-repo.info/multi-repos/manifest-file.html" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Manifest 文件"/>
<meta name="twitter:description" content="Manifest 清单仓库和 Manifest 清单文件 定义多仓库关联的清单文件（manifest 文件）保存于一个仓库中，这个仓库称为 manifest 仓库。仓库中默认的 manifest 清单文件名为 def"/>

<meta itemprop="name" content="Manifest 文件">
<meta itemprop="description" content="Manifest 清单仓库和 Manifest 清单文件 定义多仓库关联的清单文件（manifest 文件）保存于一个仓库中，这个仓库称为 manifest 仓库。仓库中默认的 manifest 清单文件名为 def">



<meta itemprop="wordCount" content="778">



<meta itemprop="keywords" content="" />
</head>
<body><div class="container"><header>
<h1>git-repo</h1>

<p class="description">client tool for git centralized workflow (Aone or gerrit)</p>

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="/index.html">Home</a></li>
<li><a href="https://github.com/aliyun/git-repo-go/releases">Download</a></li>
<li><a href="/changelog.html">ChangeLog</a></li>
<li><a href="/contribution.html">Contribution</a></li>
<li><a href="https://github.com/aliyun/git-repo-go/issues">Issue</a></li>
<li><a href="https://github.com/aliyun/git-repo-go">Source code</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>Manifest 文件</h1>


<h2 id="manifest-清单仓库和-manifest-清单文件">Manifest 清单仓库和 Manifest 清单文件</h2>

<p>定义多仓库关联的清单文件（manifest 文件）保存于一个仓库中，这个仓库称为 manifest 仓库。仓库中默认的 manifest 清单文件名为 <code>default.xml</code>，示例如下。（仓库中可以包含多个 XML 文件，但是除了默认的 <code>default.xml</code> 之外，其他 XML 文件需要通过命令行的相关参数显式的指定。）</p>

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;manifest&gt;
  &lt;remote  name=&quot;origin&quot;
       fetch=&quot;..&quot;
       revision=&quot;master&quot;
       review=&quot;https://codeup.teambition.com&quot; /&gt;
  &lt;remote  name=&quot;github&quot;
       fetch=&quot;https://github.com&quot;
       revision=&quot;master&quot;
       review=&quot;&quot; /&gt;
  &lt;default remote=&quot;origin&quot;
           revision=&quot;master&quot;
       sync-j=&quot;4&quot; /&gt;

  &lt;project name=&quot;aliyun/git-repo&quot; path=&quot;git-repo&quot; groups=&quot;app&quot;&gt;
    &lt;linkfile src=&quot;README.md&quot; dest=&quot;README.md&quot;&gt;&lt;/linkfile&gt;
  &lt;/project&gt;
  &lt;project name=&quot;aliyun/git-repo-doc&quot; path=&quot;website&quot; groups=&quot;app&quot;/&gt;
  &lt;project name=&quot;jiangxin/goconfig&quot; path=&quot;lib/goconfig&quot; groups=&quot;lib&quot; remote=&quot;github&quot; /&gt;
  &lt;project name=&quot;jiangxin/multi-log&quot; path=&quot;lib/multi-log&quot; groups=&quot;lib&quot; remote=&quot;github&quot; /&gt;
&lt;/manifest&gt;
</code></pre>

<p>这是一个标准的 XML 文件，根元素为 manifest，关于该文件格式的解读如下。</p>

<h2 id="remote-元素">remote 元素</h2>

<p>一个 Manifest 文件中可以包含多个 remote 元素。每一个 remote 元素定义了一个远程服务器。每个 project 元素都关联唯一一个 remote 元素。remote 元素包括的属性如下：</p>

<ul>
<li>name 定义 remote 的名称。仓库克隆时将以该名称建立和远程仓库的关联。</li>
<li>fetch 定义服务器 URL 地址。如果是 fetch 是相对地址，则以 manifest 仓库地址（<code>git-repo init -u &lt;URL&gt;</code> 设定的地址）为基准，计算得出。当一个项目被克隆时，将通过 fetch 定义的服务器 URL 地址和项目 name 字段组合得到仓库的克隆地址。</li>
<li>revision 定义项目的默认分支。</li>
<li>review 参数设置 <code>git-repo</code> 发动集中式评审的服务器地址。</li>
</ul>

<h2 id="default-元素">default 元素</h2>

<p>当项目（project）元素没有设置 remote、revison 等属性，则直接使用 default 元素中相关设置。即 default 元素为 project 元素相关属性的缺省值。</p>

<h2 id="project-元素">project 元素</h2>

<p>每一个 project 元素定义一个仓库。其中关键属性如下：</p>

<ul>
<li>属性 name 既作为项目的名称，又和 remote 的 fetch 字段一起组合出仓库的 URL 地址。</li>
<li>属性 path 是一个相对路径，是仓库在本地工作区的检出路径。</li>
<li>属性 groups 将项目分组，用作项目的筛选。例如在 <code>git repo init -g &lt;gorup</code> 命令中进行设置。</li>
<li>属性 remote 设置项目对应的远程源仓库。</li>
</ul>

<p>元素 project 还可以嵌套，嵌套内部的 project 路径以嵌套外部项目的路径为基准。</p>

<p>元素 project 还可以包含 linkfile、copyfile 等元素，完成文件的链接和拷贝。</p>

<p>更多示例参见 Android 项目的 manifest 仓库：</p>

<pre><code>地址：https://android.googlesource.com/platform/manifest
</code></pre>
<div class="edit-meta">

<br></div><nav class="pagination"><a class="nav nav-prev" href="/multi-repos.html" title="多仓库协同和代码评审"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - 多仓库协同和代码评审</a>
<a class="nav nav-next" href="/multi-repos/git-repo-init.html" title="git repo init">Next - git repo init <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
