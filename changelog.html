<!DOCTYPE html>
<html lang="zh-cn">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>git-repo</title>
<meta name="description" content="client tool for git centralized workflow (Aone or gerrit)">
<meta name="generator" content="Hugo 0.55.6" />
<link href="http://git-repo.infoindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="http://git-repo.info/changelog.html">
<link rel="stylesheet" href="http://git-repo.info/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="http://git-repo.info/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="http://git-repo.info/js/bundle.js"></script><style>
:root {}
</style>
<meta property="og:title" content="" />
<meta property="og:description" content="Changelog Changes of git-repo.
0.7.1 (2020-01-02) New features:
 Add helper for protocol extension, and use can add external helper. Smart selection of remote if repository has many remotes defined. AGit-Flow 2.0: set AGIT_FLOW envirionment for git connection. AGit-Flow 2.0: support version of ssh_info response. AGit-Flow 2.0: multiple users working on one code review. AGit-Flow 2.0: force push prevention if oldoid is provided.  Refactors, Enhancements and bugfixes:
 Many refactors, such as project." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://git-repo.info/changelog.html" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Changelog Changes of git-repo.
0.7.1 (2020-01-02) New features:
 Add helper for protocol extension, and use can add external helper. Smart selection of remote if repository has many remotes defined. AGit-Flow 2.0: set AGIT_FLOW envirionment for git connection. AGit-Flow 2.0: support version of ssh_info response. AGit-Flow 2.0: multiple users working on one code review. AGit-Flow 2.0: force push prevention if oldoid is provided.  Refactors, Enhancements and bugfixes:
 Many refactors, such as project."/>

<meta itemprop="name" content="">
<meta itemprop="description" content="Changelog Changes of git-repo.
0.7.1 (2020-01-02) New features:
 Add helper for protocol extension, and use can add external helper. Smart selection of remote if repository has many remotes defined. AGit-Flow 2.0: set AGIT_FLOW envirionment for git connection. AGit-Flow 2.0: support version of ssh_info response. AGit-Flow 2.0: multiple users working on one code review. AGit-Flow 2.0: force push prevention if oldoid is provided.  Refactors, Enhancements and bugfixes:
 Many refactors, such as project.">



<meta itemprop="wordCount" content="1106">



<meta itemprop="keywords" content="" />
</head>
<body><div class="container"><header>
<h1>git-repo</h1>

<p class="description">client tool for git centralized workflow (Aone or gerrit)</p>

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="/index.html">Home</a></li>
<li><a href="https://github.com/aliyun/git-repo-go/releases">Download</a></li>
<li><a href="/changelog.html">ChangeLog</a></li>
<li><a href="/contribution.html">Contribution</a></li>
<li><a href="https://github.com/aliyun/git-repo-go/issues">Issue</a></li>
<li><a href="https://github.com/aliyun/git-repo-go">Source code</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1></h1>


<h1 id="changelog">Changelog</h1>

<p>Changes of git-repo.</p>

<h2 id="0-7-1-2020-01-02">0.7.1 (2020-01-02)</h2>

<p>New features:</p>

<ul>
<li>Add helper for protocol extension, and use can add external helper.</li>
<li>Smart selection of remote if repository has many remotes defined.</li>
<li>AGit-Flow 2.0: set <code>AGIT_FLOW</code> envirionment for git connection.</li>
<li>AGit-Flow 2.0: support version of <code>ssh_info</code> response.</li>
<li>AGit-Flow 2.0: multiple users working on one code review.</li>
<li>AGit-Flow 2.0: force push prevention if oldoid is provided.</li>
</ul>

<p>Refactors, Enhancements and bugfixes:</p>

<ul>
<li>Many refactors, such as project.Remote.</li>
<li>upload: can upload repo managed by git-worktree</li>
<li>path: IsGitDir work with git worktree command</li>
<li>version: add compatible issue for version below 2.9.0</li>
<li>upload: fallback to <code>~/.git-repo/UPLOAD_OPTIONS</code> if no file found</li>
</ul>

<h2 id="0-6-1-2019-11-10">0.6.1 (2019-11-10)</h2>

<ul>
<li>manifest: repo compatible parsing for project revision</li>
</ul>

<h2 id="0-6-0-2019-11-08">0.6.0 (2019-11-08)</h2>

<p>NOTE: All users are suggested to upgrade to this version. Local changed files
      will not be overwrited.</p>

<ul>
<li>Show project path in log message as prompt</li>
<li>init: force create default branch for manifest project</li>
<li>sync: donot overwrite local changed files</li>
<li>sync: sync -d: always detach even if nothing changed</li>
<li>sync: should not make manifest project detached</li>
<li>init: no need to set color if color.ui defined in git global/system config</li>
<li>by setting app.git.repo.disabled can git-repo for certain workspace</li>
<li>init: use git-init command to create repository</li>
</ul>

<h2 id="0-5-1-2019-09-09">0.5.1 (2019-09-09)</h2>

<p>New features:</p>

<ul>
<li>upload: cache different upload options settings for different target branch</li>
<li>upload: only show title and description in editor for upload for the 1st time</li>
<li>Some commands work for repo in mirror mode</li>
</ul>

<p>Refactors, Enhancements and bugfixes:</p>

<ul>
<li>Disable upx, because some Mac users report errors</li>
<li>refactor: rename variables name, such as RepoRoot</li>
<li>refactor: Add DotGit, SharedGitDir in repository</li>
</ul>

<h2 id="0-5-0-2019-08-20">0.5.0 (2019-08-20)</h2>

<p>New features:</p>

<ul>
<li>New cmd: git repo abandon</li>
<li>New cmd: git repo prune</li>
<li>New command: git repo manifest</li>
<li>cmd/manifest: freeze manifest revision if provided -r option</li>
</ul>

<p>Refactors, Enhancements and bugfixes:</p>

<ul>
<li>color: add Hilight and Dim methods</li>
<li>refactor: donot check Remote type to get reviewable branch</li>
<li>repository: get last modified of a revision</li>
<li>bugfix: not change Revision during network-half</li>
<li>refactor: make WorkRepository as embedding struction for Project</li>
<li>go.mod: update goconfig, check cache against file size</li>
<li>refactor: rename Path field name of Repository to RepoDir</li>
<li>refactor: remove ObjectRepository from project</li>
<li>refactor: IsClean only returns one boolean</li>
<li>test: add test cases for cmd/manifest</li>
<li>test: update test cases for manifest</li>
<li>refactor: rename command executable entrance name</li>
<li>test: remove pipes, which suppress errors being report</li>
</ul>

<h2 id="0-4-2-2019-08-08">0.4.2 (2019-08-08)</h2>

<ul>
<li>Compress binaries using UPX</li>
</ul>

<h2 id="0-4-1-2019-08-07">0.4.1 (2019-08-07)</h2>

<ul>
<li>peer-review: support &ndash;remote and &ndash;dest option</li>
<li>New command: git repo list</li>
<li>download: support &ndash;remote option</li>
<li>compatibility: Use push options only if git is greater than 2.10.0</li>
<li>compatibility: Show compatible issues of git versions</li>
<li>compatibility: Fix compatible issue of gerrit hook</li>
<li>compatibility: Use absolute path for &lsquo;include.path&rsquo; directive</li>
<li>README: add badge for CI build status</li>
<li>compatibility: Use strings.Replace to be compatible with go 1.11</li>
<li>compatibility: enable GO111MODULE for build and test</li>
<li>compatibility: remove test case which depends on higher version of git</li>
<li>doc: add godoc</li>
<li>download: cherry-pick all commits for one code review</li>
</ul>

<h2 id="0-3-1-2019-6-26">0.3.1 (2019-6-26)</h2>

<p>Enhancement and bugfix:</p>

<ul>
<li>bugfix: add protection for write git extra config file</li>
<li>Only set push.default to nothing if it is unset</li>
<li>Makfile: build with vendor and new release target</li>
<li>Ignore vendor dir</li>
<li>filter: ignore errors for smudge</li>
<li>debug: add more debug info for repo sync</li>
<li>upload: clean published refs for single mode</li>
</ul>

<h2 id="0-3-0-2019-6-22-deprecated">0.3.0 (2019-6-22) DEPRECATED</h2>

<p>New Features:</p>

<ul>
<li>Add alias command: git download</li>
<li>New command: download, for offline code review</li>
<li>Add &ndash;no-cache option to ignore <code>ssh_info</code> API cache</li>
<li>config: add new filter driver keyword-subst</li>
<li>New command: filter, for keyword-subst content filter</li>
<li>Install gerrit hooks if review server is gerrit</li>
<li>Set push.default to nothing if remote is reviewable</li>
</ul>

<p>Enhancement and bugfix:</p>

<ul>
<li>test: change branch name to upper case for test</li>
<li>goconfig: fix upper case section name issue</li>
<li>refactor LoadRemote for single repository workspace</li>
<li>ParseGitURL can parse file:// and other protocol</li>
<li>test: add mock options for git-repo sync command</li>
<li>test: add test cases for git-repo filter</li>
<li>sync: default use 4 jobs</li>
<li>test: add test case for git pr &ndash;br <branch></li>
<li>Not quit immediately if cannot get review url</li>
<li>refactor: delay load remote for GitWorkspace</li>
<li>Only save config for DisableDefaultPush when necessary</li>
<li>Format every multi-log imports by adding alias log</li>
<li>Fix some spellings</li>
</ul>

<h2 id="0-2-1-2019-6-26">0.2.1 (2019-6-26)</h2>

<p>Enhancement and bugfix:</p>

<ul>
<li>bugfix: add protection for write git extra config file</li>
<li>Makfile: build with vendor and new release target</li>
</ul>

<h2 id="0-2-0-2019-6-9-deprecated">0.2.0 (2019-6-9) DEPRECATED</h2>

<ul>
<li>&ldquo;git repo &ndash;version&rdquo; follows the same rule as version command</li>
<li>test: add test cases for submodule projects</li>
<li>refactor: urlJoin should keep spaces unchanged</li>
<li>Add build tag for windows build support</li>
<li>test: use git peer-review instead of git review</li>
<li>When comparing, undefined version is lower then others</li>
<li>New alias: git pr, stands for git peer-review</li>
<li>version: check if git-repo aliases can be use safely</li>
<li>Install ~/.git-repo/config.yml.example file</li>
<li>refactor: store extra git config and comments in string</li>
</ul>

<h2 id="0-1-0-2019-6-5">0.1.0 (2019-6-5)</h2>

<ul>
<li>upgrade: show download progress</li>
<li>upgrade: add &ndash;no-cert-checks option</li>
<li>upgrade: validate package by sha256 sum and gpg signature</li>
<li>refactor: viper only bind necessary flags in rootcmd</li>
<li>bugfix: continue push if consume yes on dirty worktree</li>
</ul>

<h2 id="0-0-3-2019-5-29">0.0.3 (2019-5-29)</h2>

<p>New feature:</p>

<ul>
<li>New command: git repo upgrade</li>
<li>New command: git repo status</li>
<li>New command: git-repo forall</li>
</ul>

<p>Enhancement and bugfix:</p>

<ul>
<li>Get project&rsquo;s HEAD from .gitdir inside worktree</li>
<li>go.mod: update modules goconfig and multi-log</li>
<li>refactor: move executeResult from forall to project</li>
<li>sync: not quit if fail to check remote server type</li>
<li>sync: return error if work repo is nil when syncing</li>
<li>goconfig: fix index out of range bug</li>
<li>upload: use knownReviewHosts to help to find review URL</li>
<li>upload: show log info if cannot upload a branch</li>
<li>upload: one dialog for options and branches edition</li>
<li>upload: use more readable upload options message</li>
<li>upload: New option &ndash;no-edit</li>
<li>Update edit script error message</li>
<li>Open an editor for user to custom upload options</li>
<li>refactor: parse reviewers later in UploadAndReport method</li>
</ul>

<h2 id="0-0-2-2019-5-20">0.0.2 (2019-5-20)</h2>

<ul>
<li>test: add test case for install hooks</li>
<li>Link gerrit hooks when sync repo from gerrit</li>
<li>Install git-hook templates to ~/.git-repo/hooks</li>
<li>LinkManifest failed if canot find manifest file</li>
<li>refactor: use NewEmptyRepoWorkSpace for initial workspace</li>
<li>If init from a wrong url, remove and quit</li>
<li>sync: segfault: check if ws.Manifest is nil</li>
<li>upload: add debug info for upload command</li>
<li>Encode reviewers and cc using encodeString</li>
<li>test: fixed review test url</li>
<li>If ssh port is 29418, set remote type to Gerrit</li>
<li>Hide standard ssh port for SSHInfo</li>
<li>refactor: handle review URL for single git repository</li>
<li>Do not add &ndash;receive-pack option for http url when pushing</li>
<li>Check git URL using config.ParseGitURL</li>
<li>Not check <code>ssh_info</code>, if review URL is rsync protocol</li>
<li>refactor: move git address pattern to config</li>
<li>Read ReviewURL from git config remote.origin.review</li>
<li>test: mock ssh-info API when calling git-repo sync</li>
<li>sync: call <code>ssh_info</code> API and install hooks if remote is gerrit</li>
<li>test: add test cases for git review (upload &ndash;single)</li>
<li>Add alias command &lsquo;git review&rsquo;</li>
</ul>

<h2 id="0-0-1-2019-5-14">0.0.1 (2019-5-14)</h2>

<ul>
<li>Initial versoin</li>
</ul>
<div class="edit-meta">

<br></div><nav class="pagination"><a class="nav nav-next" href="/getting-started.html" title="开始">Next - 开始 <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
